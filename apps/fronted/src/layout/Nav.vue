<script setup lang="ts">
import { ref } from 'vue'
import { useStore } from '@/stores'
// ğŸ’¡ å¿…é¡»ä»å›¾æ ‡åº“ä¸­å¯¼å…¥è¿™ä¸¤ä¸ªç»„ä»¶
import { Moon, Sunny, Avatar, Tickets, DocumentChecked } from '@element-plus/icons-vue'
import { useRouter } from 'vue-router'

const router = useRouter()
const toAvatar = () => {
  router.push('/user')
}
const toExam = () => {
  router.push('/examList')
}
const toRecord = () => {
  router.push('/record')
}
const { app, user } = useStore()
</script>

<template>
  <div id="nav-container">
    <div class="logo">é—®å·æ˜Ÿ</div>
    <div class="icon-box">
      <el-icon @click="toAvatar">
        <Avatar />
      </el-icon>
      <el-icon @click="toExam">
        <Tickets />
      </el-icon>
      <el-icon @click="toRecord">
        <DocumentChecked />
      </el-icon>
    </div>
    <div class="right-box">
      <el-switch
        v-model="app.theme"
        active-value="dark"
        inactive-value="light"
        inline-prompt
        :active-icon="Moon"
        :inactive-icon="Sunny"
        class="theme-switch"
      />
      <div class="user-name">æ¬¢è¿ï¼Œ{{ user.userInfo?.username }}</div>
    </div>
  </div>
</template>

<style lang="scss" scoped>
#nav-container {
  height: 4rem; // ğŸ’¡ 6rem æœ‰ç‚¹è¿‡é«˜ï¼Œå»ºè®® 4rem å·¦å³
  display: flex;
  align-items: center;
  justify-content: space-between; // ğŸ’¡ å·¦å³ä¸¤ç«¯å¯¹é½
  padding: 0 40px;
  background-color: var(--nav-bg);
  color: var(--text-primary);
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);

  .icon-box {
    display: flex;
    align-items: center;
    gap: 20px; // å›¾æ ‡ä¹‹é—´çš„é—´è·
    font-size: 20px;
    color: var(--text-primary);

    :deep(.el-icon) {
      font-size: 24px; // ä¿®æ”¹å›¾æ ‡å¤§å°
      cursor: pointer;
      transition: all 0.3s ease;
      padding: 8px;
      border-radius: 50%;
      color: var(--text-primary); // ç¡®ä¿å˜é‡å·²å®šä¹‰

      &:hover {
        color: var(--el-color-primary) !important; // ä½¿ç”¨ Element Plus é»˜è®¤ä¸»è‰²å˜é‡
        transform: scale(1.1);
        background-color: var(--el-input-color-light);
      }

      &:active {
        transform: scale(0.95);
      }
    }
  }

  .right-box {
    display: flex;
    align-items: center;
    gap: 20px; // å›¾æ ‡å’Œåå­—ä¹‹é—´çš„é—´è·
    color: var(--text-primary);

    .user-name {
      font-size: 16px;
      font-weight: normal;
      color: var(--text-primary);
    }
  }
}
</style>
